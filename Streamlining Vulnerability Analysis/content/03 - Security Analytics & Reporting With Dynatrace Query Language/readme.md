## Security Analytics

### What is DQL?
Dynatrace Query Language (DQL) is a powerful tool within the Dynatrace platform that enables complex data analysis across various types of data, including metrics, logs, events, and traces. It allows users to perform sophisticated queries by combining different data types, enabling deeper insights into DevSecOps environments. 

### What are notebooks
Dynatrace Notebooks are designed to facilitate collaboration across IT, development, security, and business teams through the use of DQL, code, text, and rich media for exploratory analytics. They enable teams to effectively understand and insights derived from all data avaible within the Dynatrace platform's Grail data lakehouse.

### 3.1. Hands-on: A short introduction to DQL
In your environment, you will find a notebook called ```03 - Introduction to DQL ```. Navigate to it and open it. 


### Dynatrace security events

Security is event based. We can now query, analyze, automate and act based on security events (incidents) and the different stages of their lifecycle (from first seen to resolved).

Dynatrace provides three types of security events:

[**Entity State Events**](https://docs.dynatrace.com/docs/shortlink/semantic-dictionary-security-events#entity-state): These events are related to the state of entities within the system. Example attributes include:

- affected_entity.id
- affected_entity.name
- affected_entity.type

[**Vulnerability State Events**](https://docs.dynatrace.com/docs/platform-modules/application-security/security-data-on-grail/security-events/semantic-dictionary#vulnerability-state): These events focus on the state of vulnerabilities. Example attributes might be:

- vulnerability.cvss.base_score
- vulnerability.cvss.version
- vulnerability.davis_assessment.score

[**Vulnerability Change Events**](https://docs.dynatrace.com/docs/shortlink/semantic-dictionary-security-events#vulnerability-change): These events track changes in the status or assessment of vulnerabilities. Some attributes here could be:

- event.category
- event.status
- event.provider_product

Use cases:
- Detailed incident reports and analysis.
- Better observability into the lifecycle of vulnerabilities within the environment.
- Automated incident response based on detailed queries (e.g. alert me on vulnerability that have been open for more than 48 hours, with DSS greater than 8 and are on entities owned by Team A).
- Easier, more flexible integrations with SIEM (Security information and event management) and SOAR (Security orchestration, automation and response) tools. 


### 3.2. Hands on: Introduce security events in notebook

On your environment, navigate to the Notebook app and open the ```Security Report``` notebook. The last query in the notebook is a great KPI. In the next exercises, we will see how we can not only track these KPIs, but automatically act on them.
